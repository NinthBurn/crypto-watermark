<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Digital Watermarking Tool</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <div class="container">

    <h2 style="text-align: center; margin-bottom: 16px;">Algorithm Configuration</h2>
    <p style="text-align: center; opacity: 0.7; margin-bottom: 24px;">
      Set the parameters used by the watermarking algorithms.
      These parameters must be consistent for embedding and extraction.
    </p>

    <div class="options-panel">

      <div class="numeric-options">
        <div class="option-item">
          <label for="image-size">Image Size:</label>
          <input type="number" id="image-size" value="512">
        </div>

        <div class="option-item">
          <label for="watermark-size">Watermark Size:</label>
          <input type="number" id="watermark-size" value="32">
        </div>

        <div class="option-item">
          <label for="dct-block-size">DCT Block Size:</label>
          <input type="number" id="dct-block-size" value="8">
        </div>

        <div class="option-item">
          <label for="dct-coeffs">DCT Coefficients:</label>
          <input type="number" id="dct-coeffs" value="5">
        </div>
      </div>

      <div class="option-item">
        <label>Watermarking Method:</label>
        <div class="methods">
          <label class="method-option">
            <input type="radio" name="embed-method" value="DCT" checked>
            <span>DCT</span>
          </label>
          <label class="method-option">
            <input type="radio" name="embed-method" value="DWT">
            <span>DWT</span>
          </label>
          <label class="method-option">
            <input type="radio" name="embed-method" value="HYBRID">
            <span>HYBRID</span>
          </label>
        </div>
      </div>

      <div class="option-item">
        <label>Output Format:</label>
        <div class="methods">
          <label class="method-option">
            <input type="radio" name="embed-format" value="JPG" checked>
            <span>JPG</span>
          </label>
          <label class="method-option">
            <input type="radio" name="embed-format" value="PNG">
            <span>PNG</span>
          </label>
        </div>
      </div>

      <div class="option-item checkbox-option">
        <label>
          <input type="checkbox" id="colored-image">
          <span>Colored Image</span>
        </label>
      </div>

    </div>

    <hr />

    <h2 style="text-align: center; margin-bottom: 16px;">Embed Watermark</h2>
    <p style="text-align: center; opacity: 0.7; margin-bottom: 24px;">
      Insert a watermark into the original image using the selected method.
    </p>

    <div class="embed-row">
      <div class="embed-left">

        <input type="file" id="embed-image" accept="image/png,image/jpeg" hidden>
        <div class="preview-box" id="embed-image-box">
          <img id="embed-image-preview">
          <span class="placeholder">Original Image</span>
        </div>

        <input type="file" id="embed-watermark" accept="image/png,image/jpeg" hidden>
        <div class="preview-box" id="embed-watermark-box">
          <img id="embed-watermark-preview">
          <span class="placeholder">Watermark</span>
        </div>

        <button id="embed-btn" class="primary-btn">Embed Watermark</button>
      </div>

      <div class="embed-right">
        <div class="preview-box large">
          <img id="embed-result">
          <span class="placeholder">Watermarked Image</span>
        </div>
      </div>
    </div>

    <hr />

    <h2 style="text-align: center; margin-bottom: 16px;">Attack Simulation (Optional)</h2>
    <p style="text-align: center; opacity: 0.7; margin-bottom: 24px;">
      Apply an attack to the watermarked image to evaluate watermark robustness.
      Attacks are applied <b>only before extraction</b>.
    </p>

    <div class="options-panel">

      <div class="option-item">
        <label for="attack-type">Attack Type:</label>
        <select id="attack-type">
          <option value="">None</option>
          <option value="NOISE">Gaussian Noise</option>
          <option value="BLUR">Gaussian Blur</option>
          <option value="JPEG">JPEG Compression</option>
        </select>
      </div>

      <div class="option-item">
        <label for="attack-param">Attack Intensity:</label>
        <input type="number" id="attack-param" step="0.01" placeholder="e.g. 0.01 or 30">
      </div>

    </div>

    <hr />

    <h2 style="text-align: center; margin-bottom: 16px;">Extract Watermark</h2>
    <p style="text-align: center; opacity: 0.7; margin-bottom: 24px;">
      Extract the watermark from the (possibly attacked) watermarked image.
    </p>

    <div class="embed-row">
      <div class="embed-left">

        <input type="file" id="extract-original" accept="image/png,image/jpeg" hidden>
        <div class="preview-box" id="extract-original-box">
          <img id="extract-original-preview">
          <span class="placeholder">Original Image</span>
        </div>

        <input type="file" id="extract-watermarked" accept="image/png,image/jpeg" hidden>
        <div class="preview-box" id="extract-watermarked-box">
          <img id="extract-watermarked-preview">
          <span class="placeholder">Watermarked / Attacked Image</span>
        </div>

        <button id="extract-btn" class="primary-btn">Extract Watermark</button>
      </div>

      <div class="embed-right">
        <div class="preview-box">
          <img id="extract-result">
          <span class="placeholder">Extracted Watermark</span>
        </div>
      </div>
    </div>

    <hr />

    <h2 style="text-align: center; margin-bottom: 16px;">Quality Metrics</h2>
    <p style="text-align: center; opacity: 0.7; margin-bottom: 24px;">
      Compute PSNR and BER to evaluate imperceptibility and robustness.
    </p>

    <div class="metrics-panel">

      <div class="metrics-inputs">
        <div class="preview-box" id="metrics-image1-box">
          <input type="file" id="metrics-image1" hidden>
          <img id="metrics-image1-preview">
          <span class="placeholder">Original Image</span>
        </div>

        <div class="preview-box" id="metrics-image2-box">
          <input type="file" id="metrics-image2" hidden>
          <img id="metrics-image2-preview">
          <span class="placeholder">Watermarked Image</span>
        </div>

        <div class="preview-box" id="metrics-image3-box">
          <input type="file" id="metrics-image3" hidden>
          <img id="metrics-image3-preview">
          <span class="placeholder">Original Watermark</span>
        </div>

        <div class="preview-box" id="metrics-image4-box">
          <input type="file" id="metrics-image4" hidden>
          <img id="metrics-image4-preview">
          <span class="placeholder">Extracted Watermark</span>
        </div>
      </div>

      <div>
        <button id="metrics-btn" class="primary-btn">Compute Metrics</button>
        <div class="metrics-results">
          <div><strong>PSNR:</strong> <span id="psnr-value">--</span></div>
          <div><strong>BER:</strong> <span id="ber-value">--</span></div>
        </div>
      </div>

    </div>

  </div>

  <script src="script.js"></script>
  <script src="script_image_preview.js"></script>

</body>
</html>
